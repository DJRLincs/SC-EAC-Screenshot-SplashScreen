"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/* eslint-disable no-console */
const fs_1 = require("fs");
const path_1 = __importDefault(require("path"));
const download_1 = require("./download");
const TMP = path_1.default.resolve(__dirname, '../../tmp');
if (!(0, fs_1.existsSync)(TMP)) {
    (0, fs_1.mkdirSync)(path_1.default.resolve(__dirname, '../../tmp'));
}
// Sample download function extracted from the Launcher
// ensure to update url with up-to-date URL
//
// initialDownload(
//   new URL(
//     'https://builds.robertsspaceindustries.com/base/Data_sc-alpha-3.18.2/Data_sc-alpha-3.18.2_8428298_external_shipping.p4k?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6XC9cL2J1aWxkcy5yb2JlcnRzc3BhY2VpbmR1c3RyaWVzLmNvbVwvYmFzZVwvRGF0YV9zYy1hbHBoYS0zLjE4LjJcL0RhdGFfc2MtYWxwaGEtMy4xOC4yXzg0MjgyOThfZXh0ZXJuYWxfc2hpcHBpbmcucDRrIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNjgyMzU4ODY2fX19XX0_&Signature=Fc8MvQzKtYAEY5p351ME0dmm732p~oxCfY5zOU1ZgnoSHxGX3TqUZwJNR5C5PLDcz57ONg~rp2CgZ4-0RxBJz1x~-6cVdzzfVDKY6bgWXW-XYt~PLFxc4b8~NUZEoaCTJWIAFXTt19keblkcYuuM-Z12bGJ2nw-LdzCIPOVSACd7e250GAJTROTOvADJlZdU-MGuIw-aiLRp2Nx5W3DyJwHoiz3I2lgye0gVAr0GAMDVNd4jplqSQxrR~LUsrx1tZcHKbEtx~DDRzQ2Qrr~HQhdPcHXBTxNwr5qKTFHIizcBA7BO2xkvRMWmIU1ukFfE0yY4vECGxDA86vJ~buTRTw__&Key-Pair-Id=APKAJXM2QEUFXVY4GN6Q',
//   ),
//   new URL(
//     'https://builds.robertsspaceindustries.com/base/Data_sc-alpha-3.18.2/Data_sc-alpha-3.18.2_8428298_external_shipping.p4k.vf?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6XC9cL2J1aWxkcy5yb2JlcnRzc3BhY2VpbmR1c3RyaWVzLmNvbVwvYmFzZVwvRGF0YV9zYy1hbHBoYS0zLjE4LjJcL0RhdGFfc2MtYWxwaGEtMy4xOC4yXzg0MjgyOThfZXh0ZXJuYWxfc2hpcHBpbmcucDRrLnZmIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNjgyMzU4ODY2fX19XX0_&Signature=JQZRcFz95F~iZJ52~T4BuRfX31kig6U-uUjQ7W3fUv2jgtkyz8Vvv6XlNKsZkYSbKpYLByVLytLwKkGFwAo3FM9aUjfBtNyIU9FnPxXGsy73bd1~6TTf1YGkxfZlYwd7aMFJJl8pSyRjVRO9oGNRCD3gWJPlnYLd63QCrn7nHFT46VcdDklIn~3b8N2Ip7F22Dg-~dL5BdzsC-p4feQYxcxIBCkfdwTGH1o8~oQTQuRzNa0zSLbHFPELMNkN-Yyqew~FYeQLi6UyITYugnRBF34guVqfMNfcl9rX~QmFHUuSsj1lCPbGwkoRHdGV4zHMlJ~1oC6EzZCTIzQ9XSR5xw__&Key-Pair-Id=APKAJXM2QEUFXVY4GN6Q',
//   ),
//   'C:\\Users\\bonjo\\AppData\\Local\\Temp\\temp',
//   (eventType: any, info: any) => {
//     console.log(eventType, info);
//   },
//   104857600,
// );
// Sample download function extracted from the Launcher
// to start a server with mocked files, run `npx http-server ./__mocks__ -p 8080`
// then run `npm run build && node ./dist/tests/example.js` to start the download
(0, download_1.initialDownload)(new URL('http://localhost:8080/sample.zip'), new URL('http://localhost:8080/sample.vf'), TMP, (eventType, info) => {
    console.log(eventType, info);
}, 524288);
//# sourceMappingURL=example.js.map